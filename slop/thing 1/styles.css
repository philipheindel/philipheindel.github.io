:root{
  --sidebar-w: 240px;
  --props-w: 320px;
  --gap: 10px;
  --bg: #f5f7fa;
}
*{box-sizing:border-box;font-family:Inter,Segoe UI,Arial,Helvetica,sans-serif}
body,html{height:100%;margin:0;background:var(--bg);color:#111}
#app{display:grid;grid-template-columns:var(--sidebar-w) 1fr var(--props-w);grid-template-rows:1fr;height:100vh;gap:var(--gap);padding:var(--gap)}
#toolbox, #properties{background:#fff;border-radius:8px;padding:12px;box-shadow:0 2px 8px rgba(0,0,0,.06);overflow:auto}
#toolbox h3, #properties h3{margin:0 0 10px 0}
#tools{display:flex;flex-direction:column;gap:8px}
.tool{padding:8px;border-radius:6px;background:#f0f3f6;border:1px solid #e0e6ea;cursor:grab;user-select:none;text-align:center}
.tool:active{cursor:grabbing}
#canvas-area{display:flex;flex-direction:column;gap:8px}
#toolbar{height:36px;display:flex;align-items:center;gap:8px}
#preview-shell{flex:1;display:flex;align-items:center;justify-content:center}
#preview-resizer{background:#e9eef5;border-radius:6px;padding:6px;box-shadow:inset 0 0 0 1px rgba(0,0,0,.02);position:relative;resize:both;overflow:auto;min-width:280px;min-height:200px;border:1px dashed rgba(0,0,0,.08)}
#preview-header{font-size:12px;color:#333;margin-bottom:6px}
#preview{background:#fff;border-radius:4px;border:1px solid #cfd8e3;width:640px;height:360px;position:relative;overflow:hidden;box-shadow:0 4px 10px rgba(0,0,0,.05)}
.widget{
  position:absolute;
  border:1px dashed transparent;
  display:flex;
  align-items:center;
  justify-content:center;
  box-sizing:border-box;
  user-select:none;
}
.widget.selected{outline:2px solid #2b79ff33;border:1px solid #2b79ff66;background:#f6faff}
.widget .label{pointer-events:none}
.resize-handle{position:absolute;width:10px;height:10px;background:#fff;border:1px solid #999;border-radius:2px}
.h-top-left{left:-5px;top:-5px;cursor:nwse-resize}
.h-top-right{right:-5px;top:-5px;cursor:nesw-resize}
.h-bottom-left{left:-5px;bottom:-5px;cursor:nesw-resize}
.h-bottom-right{right:-5px;bottom:-5px;cursor:nwse-resize}
.h-top{left:50%;transform:translateX(-50%);top:-5px;cursor:ns-resize}
.h-bottom{left:50%;transform:translateX(-50%);bottom:-5px;cursor:ns-resize}
.h-left{left:-5px;top:50%;transform:translateY(-50%);cursor:ew-resize}
.h-right{right:-5px;top:50%;transform:translateY(-50%);cursor:ew-resize}

/* dashed grid lines when checkbox enabled */
#preview.grid { background-image: linear-gradient(0deg, rgba(0,0,0,0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(0,0,0,0.03) 1px, transparent 1px); background-size:20px 20px, 20px 20px; }

/* basic representation of widgets */
.widget.button-like button{width:100%;height:100%}
.widget.label-like{padding:4px 6px}
.widget.entry-like input{width:100%;height:100%;padding:2px 4px;border:1px solid #ccc}
.widget.text-like textarea{width:100%;height:100%}
.widget.listbox-like select{width:100%;height:100%}
.widget.combobox-like select{width:100%}
.widget.progressbar-like{width:100%;height:100%;background:linear-gradient(90deg,#2b79ff 50%, #d9e8ff 50%);}
.widget.separator-like{width:100%;height:2px;background:#ccc}

/* properties */
.prop-row{margin:6px 0;display:flex;gap:8px;align-items:center;flex-wrap:wrap}
#code-area{margin-top:8px}
#toggle-code{margin-bottom:6px}
#code-panel{background:#fff;border-radius:6px;padding:8px;box-shadow:0 2px 6px rgba(0,0,0,.06);max-height:240px;overflow:auto}
#generated-code{width:100%;height:200px;font-family:monospace;white-space:pre;resize:vertical}
.marquee{position:absolute;border:1px dashed #4a8bff44;background:#4a8bff22;pointer-events:none;z-index:1000}
.snap-line{position:absolute;background:#ff4d4d;border-radius:1px;z-index:900;pointer-events:none}
